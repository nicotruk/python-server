{
  "swagger" : "2.0",
  "info" : {
    "description" : "API para el shared server de Stories",
    "title" : "Stories - Aplication Server API",
    "version" : "1.0.0"
  },
  "consumes" : [ "application/json" ],
  "produces" : [ "application/json" ],
  "securityDefinitions" : {
    "UserToken" : {
      "type" : "apiKey",
      "in" : "header",
      "name" : "Authorization"
    }
  },
  "tags" : [ {
    "name" : "ping",
    "description" : "Llamados de verificacion de conexiones a los servidores\n"
  }, {
    "name" : "users",
    "description" : "Llamados relacionados con el login y la registracion de usuarios\n"
  }, {
    "name" : "friendship",
    "description" : "Llamados relacionados con las solicitudes de amistad entre usuarios\n"
  }, {
    "name" : "direct messages",
    "description" : "Llamados relacionados con el servicio de mensajeria entre usuarios\n"
  }, {
    "name" : "firebase",
    "description" : "Llamados relacionados con los servicios de firebase\n"
  }, {
    "name" : "stories",
    "description" : "Llamados relacionados con las historias de usuarios\n"
  }, {
    "name" : "stats",
    "description" : "LLamados relacionados con las estadisticas del servidor"
  } ],
  "paths" : {
    "/ping" : {
      "get" : {
        "tags" : [ "ping" ],
        "summary" : "Conexion a Application Server",
        "description" : "Chequea conexion a Application Server",
        "responses" : {
          "200" : {
            "description" : "Conectado"
          }
        }
      }
    },
    "/users" : {
      "post" : {
        "tags" : [ "users" ],
        "summary" : "Creacion de nuevo usuario",
        "description" : "Se crea un usuario con la data recibida",
        "parameters" : [ {
          "description" : "Informacion del usuario",
          "in" : "body",
          "name" : "body",
          "required" : true,
          "schema" : {
            "$ref" : "#/definitions/ApplicationUserWithPassword"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Usuario creado exitosamente",
            "schema" : {
              "properties" : {
                "user" : {
                  "$ref" : "#/definitions/User"
                },
                "token" : {
                  "$ref" : "#/definitions/Token"
                }
              }
            }
          },
          "500" : {
            "description" : "Error en la creacion del usuario",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      },
      "get" : {
        "tags" : [ "users" ],
        "security" : [ {
          "UserToken" : [ ]
        } ],
        "summary" : "Consulta de usuarios",
        "description" : "Consulta de todos los usuarios guardados en la DB",
        "responses" : {
          "200" : {
            "description" : "Consulta realizada exitosamente",
            "schema" : {
              "properties" : {
                "users" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/definitions/User"
                  }
                }
              }
            }
          },
          "500" : {
            "description" : "Error en la consulta",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/users/count" : {
      "get" : {
        "tags" : [ "users" ],
        "summary" : "Cantidad de usuarios",
        "description" : "Consulta la cantidad de usuarios registrados en el servidor",
        "responses" : {
          "200" : {
            "description" : "Consulta realizada exitosamente",
            "schema" : {
              "properties" : {
                "count" : {
                  "type" : "integer"
                }
              }
            }
          },
          "500" : {
            "description" : "Error en la consulta",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/users/login" : {
      "post" : {
        "tags" : [ "users" ],
        "summary" : "Inicio de sesion de usuario",
        "description" : "Se envia un usuario y contrase√±a para su validacion",
        "parameters" : [ {
          "description" : "Informacion de autenticacion",
          "in" : "body",
          "name" : "body",
          "required" : true,
          "schema" : {
            "$ref" : "#/definitions/AuthenticationData"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Usuario autenticado exitosamente",
            "schema" : {
              "properties" : {
                "user" : {
                  "$ref" : "#/definitions/User"
                },
                "token" : {
                  "$ref" : "#/definitions/Token"
                }
              }
            }
          },
          "500" : {
            "description" : "Error en la autenticacion del usuario",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/users/fb_login" : {
      "post" : {
        "tags" : [ "users" ],
        "summary" : "Inicio de sesion de usuario - Facebook Login",
        "description" : "Inicio de sesion a traves de Facebook",
        "parameters" : [ {
          "description" : "Informacion de autenticacion",
          "in" : "body",
          "name" : "body",
          "required" : true,
          "schema" : {
            "$ref" : "#/definitions/AuthenticationData"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Usuario autenticado exitosamente",
            "schema" : {
              "properties" : {
                "user" : {
                  "$ref" : "#/definitions/User"
                },
                "token" : {
                  "$ref" : "#/definitions/Token"
                }
              }
            }
          },
          "500" : {
            "description" : "Error en la autenticacion del usuario",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/users/{user_id}" : {
      "parameters" : [ {
        "description" : "Identificador del usuario",
        "in" : "path",
        "name" : "user_id",
        "required" : true,
        "type" : "string"
      } ],
      "get" : {
        "tags" : [ "users" ],
        "security" : [ {
          "UserToken" : [ ]
        } ],
        "summary" : "Consulta de usuario",
        "description" : "Consulta de un usuario en particular",
        "responses" : {
          "200" : {
            "description" : "Consulta realizada exitosamente",
            "schema" : {
              "properties" : {
                "user" : {
                  "$ref" : "#/definitions/User"
                }
              }
            }
          },
          "403" : {
            "description" : "Usuario inexistente",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      },
      "put" : {
        "tags" : [ "users" ],
        "security" : [ {
          "UserToken" : [ ]
        } ],
        "summary" : "Modificacion de usuario",
        "description" : "Modificacion de los datos de un usuario en particular",
        "parameters" : [ {
          "description" : "Nueva informacion del usuario",
          "in" : "body",
          "name" : "body",
          "required" : true,
          "schema" : {
            "$ref" : "#/definitions/UserChanges"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Modificacion realizada exitosamente",
            "schema" : {
              "properties" : {
                "user" : {
                  "$ref" : "#/definitions/User"
                }
              }
            }
          },
          "403" : {
            "description" : "Usuario inexistente",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/users/info/{username}" : {
      "parameters" : [ {
        "description" : "Identificador del usuario",
        "in" : "path",
        "name" : "username",
        "required" : true,
        "type" : "string"
      } ],
      "get" : {
        "tags" : [ "users" ],
        "security" : [ {
          "UserToken" : [ ]
        } ],
        "summary" : "Consulta de usuario",
        "description" : "Consulta de un usuario en particular",
        "responses" : {
          "200" : {
            "description" : "Consulta realizada exitosamente",
            "schema" : {
              "properties" : {
                "user" : {
                  "$ref" : "#/definitions/User"
                }
              }
            }
          },
          "403" : {
            "description" : "Usuario inexistente",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/users/friends/{username}" : {
      "parameters" : [ {
        "description" : "Identificador del usuario",
        "in" : "path",
        "name" : "username",
        "required" : true,
        "type" : "string"
      } ],
      "get" : {
        "tags" : [ "users" ],
        "security" : [ {
          "UserToken" : [ ]
        } ],
        "summary" : "Consulta de amistades de usuario",
        "description" : "Consulta de amistades de un usuario en particular",
        "responses" : {
          "200" : {
            "description" : "Consulta realizada exitosamente",
            "schema" : {
              "properties" : {
                "users" : {
                  "items" : {
                    "$ref" : "#/definitions/UserBasicData"
                  }
                }
              }
            }
          },
          "403" : {
            "description" : "Usuario inexistente",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/users/search/{user_id}/{query}" : {
      "parameters" : [ {
        "description" : "Identificador del usuario",
        "in" : "path",
        "name" : "user_id",
        "required" : true,
        "type" : "string"
      }, {
        "description" : "Fraccion del nombre o username de usuario a consultar",
        "in" : "path",
        "name" : "query",
        "required" : true,
        "type" : "string"
      } ],
      "get" : {
        "tags" : [ "users" ],
        "security" : [ {
          "UserToken" : [ ]
        } ],
        "summary" : "Consulta de usuarios",
        "description" : "Consulta de usuarios que nos sean amigos y cuyos \"username\" coincidan con la busqueda",
        "responses" : {
          "200" : {
            "description" : "Consulta realizada exitosamente",
            "schema" : {
              "properties" : {
                "found_users" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/definitions/UserBasicData"
                  }
                }
              }
            }
          },
          "403" : {
            "description" : "Usuario inexistente",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          },
          "500" : {
            "description" : "Error en consulta",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/friendship/request" : {
      "post" : {
        "tags" : [ "friendship" ],
        "security" : [ {
          "UserToken" : [ ]
        } ],
        "summary" : "Resgistracion de solicitud de amistad",
        "description" : "Se registra la solicitud de amistad entre dos usuarios",
        "parameters" : [ {
          "description" : "Informacion de la solicitud de amistad",
          "in" : "body",
          "name" : "body",
          "required" : true,
          "schema" : {
            "$ref" : "#/definitions/FriendshipRequest"
          }
        } ],
        "responses" : {
          "201" : {
            "description" : "Solicitud registrada exitosamente",
            "schema" : {
              "properties" : {
                "friendship_request" : {
                  "$ref" : "#/definitions/FriendshipRequest"
                }
              }
            }
          },
          "403" : {
            "description" : "Usuario inexistente",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          },
          "409" : {
            "description" : "Ya existe una solicitud entre dichos usuarios",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          },
          "500" : {
            "description" : "Error en el servidor",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/friendship/request/sent/{username}" : {
      "parameters" : [ {
        "description" : "Identificador del usuario remitente",
        "in" : "path",
        "name" : "username",
        "required" : true,
        "type" : "string"
      } ],
      "get" : {
        "tags" : [ "friendship" ],
        "security" : [ {
          "UserToken" : [ ]
        } ],
        "summary" : "Consulta de solicitudes enviadas",
        "description" : "Consulta de las solicitudes enviadas por un usuario en particular",
        "responses" : {
          "200" : {
            "description" : "Consulta realizada exitosamente",
            "schema" : {
              "properties" : {
                "friendship_requests" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/definitions/FriendshipRequest"
                  }
                }
              }
            }
          },
          "403" : {
            "description" : "Usuario inexistente",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          },
          "500" : {
            "description" : "Error en el servidor",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/friendship/request/received/{username}" : {
      "parameters" : [ {
        "description" : "Identificador del usuario destinatario",
        "in" : "path",
        "name" : "username",
        "required" : true,
        "type" : "string"
      } ],
      "get" : {
        "tags" : [ "friendship" ],
        "security" : [ {
          "UserToken" : [ ]
        } ],
        "summary" : "Consulta de solicitudes recibidas",
        "description" : "Consulta de las solicitudes recibidas para un usuario en particular",
        "responses" : {
          "200" : {
            "description" : "Consulta realizada exitosamente",
            "schema" : {
              "properties" : {
                "friendship_requests" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/definitions/FriendshipRequest"
                  }
                }
              }
            }
          },
          "403" : {
            "description" : "Usuario inexistente",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          },
          "500" : {
            "description" : "Error en el servidor",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/friendship/request/{from_username}/{to_username}" : {
      "parameters" : [ {
        "description" : "Identificador del usuario remitente",
        "in" : "path",
        "name" : "from_username",
        "required" : true,
        "type" : "string"
      }, {
        "description" : "Identificador del usuario destinatario",
        "in" : "path",
        "name" : "to_username",
        "required" : true,
        "type" : "string"
      } ],
      "delete" : {
        "tags" : [ "friendship" ],
        "security" : [ {
          "UserToken" : [ ]
        } ],
        "summary" : "Eliminar solicitud entre usuarios",
        "description" : "Remocion de solicitud de amistad entre usuarios dados",
        "responses" : {
          "201" : {
            "description" : "Remocion realizada exitosamente",
            "schema" : {
              "properties" : {
                "friendship_requests" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/definitions/FriendshipRequest"
                  }
                }
              }
            }
          },
          "409" : {
            "description" : "Solicitud de amistad inexistente",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          },
          "500" : {
            "description" : "Error en el servidor",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/friendship" : {
      "post" : {
        "tags" : [ "friendship" ],
        "security" : [ {
          "UserToken" : [ ]
        } ],
        "summary" : "Aceptacion de solicitud de amistad",
        "description" : "Se registran a los usuarios como amigos mutuos",
        "parameters" : [ {
          "description" : "Informacion de la solicitud de amistad",
          "in" : "body",
          "name" : "body",
          "required" : true,
          "schema" : {
            "$ref" : "#/definitions/FriendshipRequest"
          }
        } ],
        "responses" : {
          "201" : {
            "description" : "Solicitud registrada exitosamente",
            "schema" : {
              "properties" : {
                "friendship_request" : {
                  "$ref" : "#/definitions/FriendshipRequest"
                }
              }
            }
          },
          "403" : {
            "description" : "Usuario inexistente",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          },
          "409" : {
            "description" : "Solicitud de amistad inexistente",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          },
          "500" : {
            "description" : "Error en el servidor",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/direct_message" : {
      "post" : {
        "tags" : [ "direct messages" ],
        "security" : [ {
          "UserToken" : [ ]
        } ],
        "summary" : "Envio de mensaje entre usuarios",
        "description" : "Se registra el envio de un mensaje directo entre dos usuarios",
        "parameters" : [ {
          "description" : "Informacion del mensaje",
          "in" : "body",
          "name" : "body",
          "required" : true,
          "schema" : {
            "$ref" : "#/definitions/DirectMessage"
          }
        } ],
        "responses" : {
          "201" : {
            "description" : "Mensaje enviado exitosamente",
            "schema" : {
              "properties" : {
                "direct_message" : {
                  "$ref" : "#/definitions/DirectMessageCreated"
                }
              }
            }
          },
          "403" : {
            "description" : "Usuario inexistente",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          },
          "409" : {
            "description" : "Firebase no ha podido enviar la notificacion",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          },
          "500" : {
            "description" : "Error en el servidor",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/direct_message/received/{to_username}" : {
      "parameters" : [ {
        "description" : "Identificador del usuario destinatario",
        "in" : "path",
        "name" : "to_username",
        "required" : true,
        "type" : "string"
      } ],
      "get" : {
        "tags" : [ "direct messages" ],
        "security" : [ {
          "UserToken" : [ ]
        } ],
        "summary" : "Consulta de mensajes recibidos",
        "description" : "Consulta de los mensajes recibidos para un usuario en particular",
        "responses" : {
          "200" : {
            "description" : "Consulta realizada existosamente",
            "schema" : {
              "properties" : {
                "direct_messages" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/definitions/DirectMessageCreated"
                  }
                }
              }
            }
          },
          "500" : {
            "description" : "Error en el servidor",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/direct_message/{username}" : {
      "parameters" : [ {
        "description" : "Identificador del usuario destinatario",
        "in" : "path",
        "name" : "username",
        "required" : true,
        "type" : "string"
      } ],
      "get" : {
        "tags" : [ "direct messages" ],
        "security" : [ {
          "UserToken" : [ ]
        } ],
        "summary" : "Consulta de mensajes enviados y/o recibidos por el usuario",
        "description" : "Consulta del ultimo mensaje de cada conversacion en que haya participado el usuario",
        "responses" : {
          "200" : {
            "description" : "Consulta realizada exitosamente",
            "schema" : {
              "properties" : {
                "direct_messages" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/definitions/DirectMessageWithUserData"
                  }
                }
              }
            }
          },
          "403" : {
            "description" : "Usuario inexistente",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          },
          "500" : {
            "description" : "Error en el servidor",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/direct_message/conversation/{username}/{friend_username}" : {
      "parameters" : [ {
        "description" : "Identificador del usuario",
        "in" : "path",
        "name" : "username",
        "required" : true,
        "type" : "string"
      }, {
        "description" : "Identificador del amigo",
        "in" : "path",
        "name" : "friend_username",
        "required" : true,
        "type" : "string"
      } ],
      "get" : {
        "tags" : [ "direct messages" ],
        "security" : [ {
          "UserToken" : [ ]
        } ],
        "summary" : "Consulta de mensajes de una conversacion",
        "description" : "Consulta de los mensajes recibidos para un usuario en particular",
        "responses" : {
          "200" : {
            "description" : "Consulta realizada exitosamente",
            "schema" : {
              "properties" : {
                "direct_messages" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/definitions/DirectMessageCreated"
                  }
                },
                "user" : {
                  "$ref" : "#/definitions/User"
                }
              }
            }
          },
          "403" : {
            "description" : "Usuario inexistente",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          },
          "500" : {
            "description" : "Error en el servidor",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/users/firebase/{user_id}" : {
      "parameters" : [ {
        "description" : "Identificador del usuario",
        "in" : "path",
        "name" : "user_id",
        "required" : true,
        "type" : "string"
      } ],
      "put" : {
        "tags" : [ "firebase" ],
        "summary" : "Modificacion del token de firebase",
        "description" : "Modificacion del token de firebase de un usuario en particular",
        "parameters" : [ {
          "description" : "Nueno token de firebase",
          "in" : "body",
          "name" : "body",
          "required" : true,
          "schema" : {
            "properties" : {
              "firebase_token" : {
                "type" : "string"
              }
            }
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Modificacion realizada exitosamente",
            "schema" : {
              "properties" : {
                "user" : {
                  "$ref" : "#/definitions/User"
                }
              }
            }
          },
          "403" : {
            "description" : "Usuario inexistente",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/stories" : {
      "post" : {
        "tags" : [ "stories" ],
        "security" : [ {
          "UserToken" : [ ]
        } ],
        "summary" : "Creacion de nueva historia",
        "description" : "Se crea una historia con la data recibida",
        "parameters" : [ {
          "description" : "Informacion de la historia",
          "in" : "body",
          "name" : "body",
          "required" : true,
          "schema" : {
            "$ref" : "#/definitions/StoryRequestData"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Usuario creado exitosamente",
            "schema" : {
              "$ref" : "#/definitions/StoryResponseData"
            }
          },
          "500" : {
            "description" : "Error en la creacion de historia",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      },
      "get" : {
        "tags" : [ "stories" ],
        "security" : [ {
          "UserToken" : [ ]
        } ],
        "summary" : "Consulta de historias",
        "description" : "Consulta de las historias visibles por el usuario dado",
        "parameters" : [ {
          "description" : "Identificador del usuario",
          "in" : "query",
          "name" : "user_id",
          "required" : true,
          "type" : "string"
        } ],
        "responses" : {
          "200" : {
            "description" : "Consulta realizada exitosamente",
            "schema" : {
              "properties" : {
                "stories" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/definitions/StoryResponseData"
                  }
                }
              }
            }
          },
          "403" : {
            "description" : "Usuario inexistente",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          },
          "500" : {
            "description" : "Error en la consulta",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/stories/from/{username}/{user_id}" : {
      "parameters" : [ {
        "description" : "Identificador del usuario autor de las historias",
        "in" : "path",
        "name" : "username",
        "required" : true,
        "type" : "string"
      }, {
        "description" : "Identificador del usuario que realiza el pedido",
        "in" : "path",
        "name" : "user_id",
        "required" : true,
        "type" : "string"
      } ],
      "get" : {
        "tags" : [ "stories" ],
        "security" : [ {
          "UserToken" : [ ]
        } ],
        "summary" : "Consulta de historias de un usuario",
        "description" : "Consulta de las historias subidas por un usuario en particular visibles por el usuario que realiza el pedido",
        "responses" : {
          "200" : {
            "description" : "Consulta realizada exitosamente",
            "schema" : {
              "properties" : {
                "stories" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/definitions/StoryResponseData"
                  }
                }
              }
            }
          },
          "403" : {
            "description" : "Usuario inexistente",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          },
          "500" : {
            "description" : "Error en la consulta",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/stories/{story_id}" : {
      "parameters" : [ {
        "description" : "Identificador de la historia",
        "in" : "path",
        "name" : "story_id",
        "required" : true,
        "type" : "string"
      } ],
      "patch" : {
        "tags" : [ "stories" ],
        "security" : [ {
          "UserToken" : [ ]
        } ],
        "summary" : "Modificacion de informacion en historia",
        "description" : "Agregacion/Remocion de comentario/reaccion a los datos de una historia en particular",
        "parameters" : [ {
          "description" : "Informacion de la modificacion",
          "in" : "body",
          "name" : "body",
          "required" : true,
          "schema" : {
            "$ref" : "#/definitions/PatchStoryData"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Consulta realizada exitosamente",
            "schema" : {
              "$ref" : "#/definitions/StoryResponseData"
            }
          },
          "500" : {
            "description" : "Error en la consulta",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      },
      "delete" : {
        "tags" : [ "stories" ],
        "security" : [ {
          "UserToken" : [ ]
        } ],
        "summary" : "Eliminar historia",
        "description" : "Remocion de una historia en particular",
        "responses" : {
          "201" : {
            "description" : "Remocion realizada exitosamente",
            "schema" : {
              "$ref" : "#/definitions/StoryResponseData"
            }
          },
          "409" : {
            "description" : "Historia inexistente",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          },
          "500" : {
            "description" : "Error en la consulta",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/stories/{story_id}/files" : {
      "parameters" : [ {
        "description" : "Identificador de la historia",
        "in" : "path",
        "name" : "story_id",
        "required" : true,
        "type" : "string"
      } ],
      "post" : {
        "tags" : [ "stories" ],
        "security" : [ {
          "UserToken" : [ ]
        } ],
        "consumes" : [ "multipart/form-data" ],
        "summary" : "Alta de un archivo",
        "description" : "Dar de alta un archivo asociado a una historia en particular",
        "parameters" : [ {
          "in" : "formData",
          "name" : "file",
          "required" : true,
          "type" : "file",
          "format" : "binary",
          "description" : "Archivo que se desea subir al servidor"
        }, {
          "in" : "formData",
          "name" : "filename",
          "required" : true,
          "type" : "string",
          "description" : "Nombre del archivo"
        } ],
        "responses" : {
          "200" : {
            "description" : "Alta de archivo realizada exitosamente",
            "schema" : {
              "$ref" : "#/definitions/StoryResponseData"
            }
          },
          "500" : {
            "description" : "Error en la consulta",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/stats" : {
      "get" : {
        "tags" : [ "stats" ],
        "summary" : "Consulta de llamadas a endpoints",
        "description" : "Consulta de las llamadas realizadas a los endpoints del servidor con su respectivo timestamp de ejecucion",
        "responses" : {
          "200" : {
            "description" : "Consulta realizada exitosamente",
            "schema" : {
              "properties" : {
                "stats" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/definitions/StatsData"
                  }
                }
              }
            }
          },
          "500" : {
            "description" : "Error en la consulta",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/stats/last/{minutes}" : {
      "parameters" : [ {
        "description" : "Cantidad de minutos",
        "in" : "path",
        "name" : "minutes",
        "required" : true,
        "type" : "string"
      } ],
      "get" : {
        "tags" : [ "stats" ],
        "summary" : "Consulta de llamadas a endpoints",
        "description" : "Consulta de las llamadas realizadas a los endpoints del servidor de los ultimos X minutos",
        "responses" : {
          "200" : {
            "description" : "Consulta realizada exitosamente",
            "schema" : {
              "properties" : {
                "stats" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/definitions/StatsData"
                  }
                }
              }
            }
          },
          "500" : {
            "description" : "Error en la consulta",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/stats/stories" : {
      "get" : {
        "tags" : [ "stats" ],
        "summary" : "Consulta de llamadas a endpoints de historias",
        "description" : "Consulta de las llamadas realizadas a los endpoints del servidor relacionados con las historias de usuario de los ultimos 10 dias",
        "responses" : {
          "200" : {
            "description" : "Consulta realizada exitosamente",
            "schema" : {
              "properties" : {
                "stats" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/definitions/StatsData"
                  }
                }
              }
            }
          },
          "500" : {
            "description" : "Error en la consulta",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    }
  },
  "definitions" : {
    "ApplicationUserWithPassword" : {
      "properties" : {
        "username" : {
          "type" : "string"
        },
        "password" : {
          "type" : "string"
        },
        "email" : {
          "type" : "string"
        },
        "name" : {
          "type" : "string"
        },
        "profile_pic" : {
          "type" : "string"
        },
        "firebase_token" : {
          "type" : "string"
        }
      }
    },
    "AuthenticationData" : {
      "properties" : {
        "username" : {
          "type" : "string"
        },
        "password" : {
          "type" : "string"
        }
      }
    },
    "User" : {
      "properties" : {
        "user_id" : {
          "type" : "string"
        },
        "username" : {
          "type" : "string"
        },
        "email" : {
          "type" : "string"
        },
        "name" : {
          "type" : "string"
        },
        "profile_pic" : {
          "type" : "string"
        },
        "friends_usernames" : {
          "type" : "array",
          "items" : {
            "type" : "string"
          }
        },
        "firebase_token" : {
          "type" : "string"
        }
      }
    },
    "UserChanges" : {
      "properties" : {
        "name" : {
          "type" : "string"
        },
        "email" : {
          "type" : "string"
        },
        "profile_pic" : {
          "type" : "string"
        }
      }
    },
    "UserBasicData" : {
      "properties" : {
        "username" : {
          "type" : "string"
        },
        "profile_pic" : {
          "type" : "string"
        },
        "email" : {
          "type" : "string"
        }
      }
    },
    "FriendshipRequest" : {
      "properties" : {
        "from_username" : {
          "type" : "string"
        },
        "to_username" : {
          "type" : "string"
        }
      }
    },
    "DirectMessage" : {
      "properties" : {
        "from_username" : {
          "type" : "string"
        },
        "to_username" : {
          "type" : "string"
        },
        "message" : {
          "type" : "string"
        }
      }
    },
    "DirectMessageCreated" : {
      "properties" : {
        "_id" : {
          "type" : "string"
        },
        "from_username" : {
          "type" : "string"
        },
        "to_username" : {
          "type" : "string"
        },
        "message" : {
          "type" : "string"
        },
        "timestamp" : {
          "type" : "number"
        }
      }
    },
    "DirectMessageWithUserData" : {
      "properties" : {
        "_id" : {
          "type" : "string"
        },
        "from_username" : {
          "type" : "string"
        },
        "to_username" : {
          "type" : "string"
        },
        "message" : {
          "type" : "string"
        },
        "name" : {
          "type" : "string"
        },
        "profile_pic" : {
          "type" : "string"
        },
        "timestamp" : {
          "type" : "number"
        }
      }
    },
    "StoryRequestData" : {
      "properties" : {
        "user_id" : {
          "type" : "string"
        },
        "location" : {
          "type" : "string"
        },
        "visibility" : {
          "type" : "string"
        },
        "title" : {
          "type" : "string"
        },
        "description" : {
          "type" : "string"
        },
        "is_quick_story" : {
          "type" : "boolean"
        },
        "timestamp" : {
          "type" : "number"
        }
      }
    },
    "StoryResponseData" : {
      "properties" : {
        "id" : {
          "type" : "string"
        },
        "user_id" : {
          "type" : "string"
        },
        "location" : {
          "type" : "string"
        },
        "visibility" : {
          "type" : "string"
        },
        "title" : {
          "type" : "string"
        },
        "description" : {
          "type" : "string"
        },
        "file_url" : {
          "type" : "string"
        },
        "reactions" : {
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/ReactionsResponseData"
          }
        },
        "comments" : {
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/CommentsResponseData"
          }
        },
        "is_quick_story" : {
          "type" : "boolean"
        },
        "timestamp" : {
          "type" : "number"
        },
        "username" : {
          "type" : "string"
        },
        "name" : {
          "type" : "string"
        },
        "profile_pic" : {
          "type" : "string"
        }
      }
    },
    "CommentsResponseData" : {
      "properties" : {
        "user_id" : {
          "type" : "string"
        },
        "username" : {
          "type" : "string"
        },
        "text" : {
          "type" : "string"
        }
      }
    },
    "ReactionsResponseData" : {
      "properties" : {
        "user_id" : {
          "type" : "string"
        },
        "type" : {
          "type" : "string"
        }
      }
    },
    "PatchStoryData" : {
      "properties" : {
        "path" : {
          "type" : "string"
        },
        "op" : {
          "type" : "string"
        },
        "value" : {
          "type" : "string"
        }
      }
    },
    "StatsData" : {
      "properties" : {
        "request" : {
          "type" : "string"
        },
        "timestamp" : {
          "type" : "number"
        }
      }
    },
    "Token" : {
      "properties" : {
        "expiresAt" : {
          "type" : "integer"
        },
        "token" : {
          "type" : "string"
        }
      }
    },
    "Error" : {
      "properties" : {
        "status_code" : {
          "type" : "integer"
        },
        "message" : {
          "type" : "string"
        }
      }
    }
  },
  "host" : "virtserver.swaggerhub.com",
  "basePath" : "/nicotruk/ApplicationServerAPI/1.0.0",
  "schemes" : [ "https", "http" ]
}